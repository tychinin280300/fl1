(this["webpackJsonpfl-jaip83-0"]=this["webpackJsonpfl-jaip83-0"]||[]).push([[0],{75:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);n(74),n(75);var r=n(0),o=n(13),a=n.n(o),i=n(15),c=n(110),s=n(123),d=n(88),l=n(111),u=n(4),j=Object(c.a)((function(e){return{root:{position:"relative",width:"100%",backgroundColor:e.palette.primary.main,color:e.palette.common.white},title:{fontSize:e.typography.h4.fontSize,padding:"10px"},authButton:{position:"absolute",top:0,right:0,color:e.palette.common.white}}})),p=function(){var e=j();return Object(u.jsxs)(s.a,{className:e.root,children:[Object(u.jsx)(s.a,{className:e.title,children:"Olap online"}),Object(u.jsx)(d.a,{className:e.authButton,children:Object(u.jsx)(l.a,{fontSize:"large"})})]})},b=n(119),m=n(129),O=n(128),x=n(127),f=n(131),h=n(126),g=n(115),y=n(117),v=n(113),k=n(116),C=(n(84),n(125)),D=Object(c.a)((function(e){return{input:{margin:"5px"},dndItemDimension:{borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",padding:"5px",margin:"5px",cursor:"pointer",backgroundColor:e.palette.info.light,borderColor:e.palette.info.dark},dndItemMeasure:{borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",padding:"5px",margin:"5px",cursor:"pointer",backgroundColor:e.palette.success.light,borderColor:e.palette.success.dark}}})),w=Object(r.memo)((function(e){var t=D(),n=Object(C.a)((function(){return{type:e.type,item:{name:e.name,type:e.type,id:e.key_},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),[e.key_,e.name]),r=Object(i.a)(n,2),o=r[0].opacity,a=r[1];return Object(u.jsx)("div",{ref:a,style:e.found?{opacity:o,fontWeight:"bold"}:{opacity:o},className:"dimension"===e.type?t.dndItemDimension:t.dndItemMeasure,children:e.name})})),S=function(e){var t=D(),n=Object(r.useState)(""),o=Object(i.a)(n,2),a=o[0],c=o[1];return Object(u.jsxs)(s.a,{children:[Object(u.jsxs)(m.a,{className:t.input,fullWidth:!0,children:[Object(u.jsx)(O.a,{children:"\u041f\u043e\u0438\u0441\u043a"}),Object(u.jsx)(x.a,{value:a,onChange:function(e){return c(e.target.value)},endAdornment:Object(u.jsx)(f.a,{position:"end",children:Object(u.jsx)(d.a,{onClick:function(){return c("")},children:Object(u.jsx)(v.a,{})})})})]}),Object(u.jsx)(s.a,{children:Object.entries(e.tables).map((function(e,t){var n=Object(i.a)(e,2),r=n[0],o=n[1],c=r.indexOf(a)>-1&&""!==a,s=void 0!==o.find((function(e){return e.name.indexOf(a)>-1&&""!==a}));return(c||s||""===a)&&Object(u.jsxs)(h.a,{children:[Object(u.jsx)(g.a,{expandIcon:Object(u.jsx)(k.a,{fontSize:"large",color:s?"secondary":void 0}),style:c?{fontWeight:"bold"}:void 0,children:r}),Object(u.jsx)(y.a,{children:o.map((function(e){var t=e.name.indexOf(a)>-1&&""!==a;return Object(u.jsx)(w,{key_:e.id,type:e.type,name:e.name,found:t},e.id)}))})]},t)}))})]})},I=n(54),N=n.n(I),W=n(65),z=function(){var e=Object(W.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{table1:[{name:"column1",type:"dimension",id:"id1"},{name:"column2",type:"measure",id:"id2"}],table2:[{name:"column3",type:"dimension",id:"id3"},{name:"column4",type:"measure",id:"id4"},{name:"column5",type:"dimension",id:"id5"},{name:"column6",type:"measure",id:"id6"}]});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=n(48),M=n(56),R=n(35),_=n(114),E=n(118),J=n(124),A=Object(c.a)((function(e){return{root:{margin:"15px"},caption:{padding:"5px",backgroundColor:e.palette.text.disabled,borderBottom:"1px solid black"},box:{width:"500px",marginTop:"10px",minHeight:"150px"},dndItemDimension:{borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",padding:"5px",margin:"5px",cursor:"pointer",backgroundColor:e.palette.info.light,borderColor:e.palette.info.dark},dndItemMeasure:{borderWidth:"1px",borderRadius:"3px",borderStyle:"solid",padding:"5px",margin:"5px",cursor:"pointer",backgroundColor:e.palette.success.light,borderColor:e.palette.success.dark}}})),F=Object(r.memo)((function(e){var t=A(),n=Object(J.a)({accept:e.accept,drop:e.onDrop,collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),r=Object(i.a)(n,2),o=r[0],a=o.isOver,c=o.canDrop,d=r[1],l=a&&c;return Object(u.jsxs)(_.a,{ref:d,elevation:3,className:t.box,style:l?{backgroundColor:"lightyellow"}:void 0,children:[Object(u.jsx)(s.a,{className:t.caption,children:e.name}),e.items.map((function(e,n){return Object(u.jsx)(s.a,{className:"dimension"===e.type?t.dndItemDimension:t.dndItemMeasure,children:e.name},n)}))]})})),H=function(){var e=A(),t=Object(r.useState)({filters:[],columns:[],rows:[],measures:[]}),n=Object(i.a)(t,2),o=n[0],a=n[1],c=function(e,t){"filters"===t&&a(Object(R.a)(Object(R.a)({},o),{},{filters:[].concat(Object(M.a)(o.filters),[e])})),"filters"!==t&&void 0===o[t].find((function(t){return t.id===e.id}))&&a(Object(R.a)(Object(R.a)({},o),{},Object(B.a)({},t,[].concat(Object(M.a)(o[t]),[e]))))};return Object(u.jsxs)(s.a,{className:e.root,children:[Object(u.jsx)(E.a,{variant:"contained",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(u.jsx)(F,{name:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",accept:["dimension"],onDrop:function(e){return c(e,"filters")},items:o.filters}),Object(u.jsx)(F,{name:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",accept:["dimension"],onDrop:function(e){return c(e,"columns")},items:o.columns}),Object(u.jsx)(F,{name:"\u0421\u0442\u0440\u043e\u043a\u0438",accept:["dimension"],onDrop:function(e){return c(e,"rows")},items:o.rows}),Object(u.jsx)(F,{name:"\u041c\u0435\u0442\u0440\u0438\u043a\u0438",accept:["measure"],onDrop:function(e){return c(e,"measures")},items:o.measures})]})},T=n(120),q=n(121),G=Object(c.a)((function(e){return{root:{fontFamily:"roboto"}}})),K=function(){var e=G(),t=Object(r.useState)(null),n=Object(i.a)(t,2),o=n[0],a=n[1];Object(r.useEffect)((function(){z().then((function(e){return a(e)}))}),[]);var c=Object(r.useState)(!1),l=Object(i.a)(c,2),j=l[0],m=l[1];return Object(u.jsxs)(s.a,{className:e.root,children:[Object(u.jsx)(p,{}),Object(u.jsxs)(b.a,{container:!0,children:[Object(u.jsxs)(b.a,{item:!0,xs:j?1:3,children:[Object(u.jsx)(d.a,{onClick:function(){return m(!j)},children:j?Object(u.jsx)(T.a,{}):Object(u.jsx)(q.a,{})}),null===o||j?null:Object(u.jsx)(S,{tables:o})]}),Object(u.jsx)(b.a,{item:!0,xs:j?11:9,children:null!==o?Object(u.jsx)(H,{}):null})]})]})},L=n(122),P=n(66);a.a.render(Object(u.jsx)(L.a,{backend:P.a,children:Object(u.jsx)(K,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.12c4ab06.chunk.js.map